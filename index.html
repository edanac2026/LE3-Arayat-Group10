<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Contact List</title>
        <link rel="stylesheet" href="style.css">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
        <style>
            .list-group-item {
                cursor: pointer;
                pointer-events: all;
            }
        </style>

        <script>
            var contactlist = [];

            function displayList() {
                document.getElementById("myList").innerHTML = "";
                for(var i=0; i<contactlist.length; i++) {
                    document.getElementById("myList").innerHTML += '<li class="list-group-item" onclick="show()" id="'+ i + '">' + contactlist[i].name + '</li>';
                }
            }

            function addToList(item) {
                let fullname = document.getElementById("nameInput").value;
                let address = document.getElementById("addressInput").value;
                let number = document.getElementById("contactInput").value;
                let person = {name: fullname, address: address, number: number};
                document.getElementById("nameInput").value = "";
                document.getElementById("addressInput").value = "";
                document.getElementById("contactInput").value = "";
                console.log(person);
                contactlist.push(person);
                displayList();
                localStorage.setItem("fullname",JSON.stringify(contactlist));
            }

            function getItem() {
                var i = document.getElementById("nameInput").value;
                addToList(i);
            }

            function loadList() {
                if(JSON.parse(localStorage.getItem('contactlist') != null))
                    contactlist = JSON.parse(localStorage.getItem('contactlist'));
                displayList();
            }
            function show(){
                let index = event.srcElement.id;
                document.getElementById("nameInput").value = contactlist[index].name;
                document.getElementById("addressInput").value = contactlist[index].address;
                document.getElementById("contactInput").value = contactlist[index].number;
            }

        </script>
    </head>
    <body class="container" onload="loadList()">
        <h3>Contact Number</h3>
        <div class="mb-3">
            <input type="text" class="form-control" id="nameInput" placeholder="First Name">
            <input type="text" class="form-control" id="addressInput" placeholder="Address">
            <input type="text" class="form-control" id="contactInput" placeholder="Contact Number">
        </div>
        <button id="myBtn" class="btn btn-primary" onclick="getItem()">Add</button><br><br>
        <ul class="list-group" id="myList"></ul>
    </body>
</html>